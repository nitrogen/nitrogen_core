<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Bind Element Element</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="title" content="Bind Element Element"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2014-09-15 02:13:07 CDT"/>
<meta name="author" content="Rusty Klophaus (@rustyio)"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<LINK href='../stylesheet.css' rel='stylesheet' type='text/css' />
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">Bind Element Element</h1>

<p><a href="http://nitrogenproject.com">Home</a> | <a href="../index.html">Getting Started</a> | <a href="../api.html">API</a> | <a href="../elements.html"><b>Elements</b></a> | <a href="../actions.html">Actions</a> | <a href="../validators.html">Validators</a> | <a href="../handlers.html">Handlers</a> | <a href="../config.html">Configuration Options</a> | <a href="../plugins.html">Plugins</a> | <a href="../jquery_mobile_integration.html">Mobile</a> | <a href="../troubleshooting.html">Troubleshooting</a> | <a href="../about.html">About</a>
</p>


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 Bind Element - #bind {}</a></li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Bind Element - #bind {}</h2>
<div class="outline-text-2" id="text-1">


<p>
  The bind element allows you to easily display lists of data on a Nitrogen
  page. When you declare the bind element, you define a set of 'data', a 'body'
  containing one or more elements, and a 'map' that tells the bind element how
  to map a data row into the body.
</p>
<p>
  A map item is an atom of the form <code>element_id@attribute</code>. The <code>element_id</code>
  must correspond to the id of an element in the 'body', and the attribute must
  be an attribute found on that element. You can bind to any attribute within
  an element.
</p>
<p>
  In addition, you can specify a 'transform' function to manipulate the data at
  bind time and add additional bindings dynamically.
</p>
<p>
  The 'data' attribute and the 'map' attribute must follow the same basic
  structure. This can mean one of three things:
</p>
<dl>
<dt>Simple List</dt><dd>If the data is a simple list, then each row must be of the
     same length, and the map must also be the same length as a data row.

</dd>
<dt>Value Pair</dt><dd>If the data is in the form of a key/value pair, then each row
     must be a list of {key, value} tuples, and the map must also be a list of
     {key, value} tuples.  The tuples can be in any order, and there can be extra
     tuples or missing tuples with no ill effects.

</dd>
<dt>Records</dt><dd>If the data is in the form of a record, then each row must be
     the same type of record, and the map must be a record.  
</dd>
</dl>


<p>
  The bind element can be nested within itself.
</p>

</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3"></span> Usage</h3>
<div class="outline-text-3" id="text-1-1">





<pre class="src src-erlang"><span class="org-variable-name">Data</span> = [
  [<span class="org-string">"Joe"</span>, <span class="org-string">"Franklin"</span>],
  [<span class="org-string">"Samir"</span>, <span class="org-string">"Jahal"</span>],
  [<span class="org-string">"Laurie"</span>, <span class="org-string">"O'Conner"</span>]
],

<span class="org-variable-name">Map</span> = [firstName@text, lastName@text],

#<span class="org-type">bind</span> { data=<span class="org-variable-name">Data</span>, map=<span class="org-variable-name">Map</span>, body=[
  #<span class="org-type">label</span> { id=firstName },
  #<span class="org-type">label</span> { id=lastName }
]}
</pre>


</div>

</div>

<div id="outline-container-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3"></span> Attributes</h3>
<div class="outline-text-3" id="text-1-2">


<dl>
<dt>data - (<i>list of erlang terms</i>)</dt><dd>Data in the form of a simple list, a key/value pair, records, or any combination of the three.

</dd>
<dt>map - (<i>erlang terms</i>)</dt><dd>Specify how the data maps to the body of elements.

</dd>
<dt>transform - (<i>Function(DataRow, Acc) -&gt; {DataRow1, Acc1, ExtraBindings}</i>)</dt><dd>
</dd>
</dl>

<p>   A transform function that is run on the data before binding. DataRow contains 
   one row of data. Acc contains the accumulator set by the 'acc' attribute. 
   The function can return a modified datarow, an updated accumulator, 
   and a list of extra bindings to apply. The extra bindings must be of the
   form <code>{element_id@attr, value}</code>.
</p>
<dl>
<dt>acc - (<i>Erlang term</i>)</dt><dd>The initial accumulator to pass in to the transform function.

</dd>
<dt>body - (<i>Nitrogen elements</i>)</dt><dd>The block of Nitrogen elements to which data is bound.

</dd>
<dt>empty_body - (<i>Nitrogen elements</i>)</dt><dd>A block of Nitrogen elements to render if the supplied data has no rows.
</dd>
</dl>


</div>

</div>

<div id="outline-container-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3"></span> See Also</h3>
<div class="outline-text-3" id="text-1-3">


<ul>
<li><a href="./base.html">base element</a>

</li>
<li><a href="http://nitrogenproject.com/demos">Data Binding Section of the Demos page</a>
</li>
</ul>

</div>
</div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2014-09-15 02:13:07 CDT</p>
<p class="author">Author: Rusty Klophaus (@rustyio)</p>
<p class="creator">Org version 7.8.02 with Emacs version 23</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div><h2>Comments</h2>
<b>Note:</b><!-- Disqus does not currently support Erlang for its syntax highlighting, so t-->To specify <!--Erlang--> code blocks, just use the generic code block syntax: <pre><b>&lt;pre&gt;&lt;code&gt;your code here&lt;/code&gt;&lt;/pre&gt;</b></pre>
<br />
<br />
<div id="disqus_thread"></div>
<script type="text/javascript">
	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
	var disqus_shortname = 'nitrogenproject'; // required: replace example with your forum shortname
	var disqus_identifier = 'html/elements/bind.html'; //This will be replaced with the path part of the url

	/* * * DON'T EDIT BELOW THIS LINE * * */
	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</body>
</html>
